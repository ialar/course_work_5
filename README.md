# course_work_5

## HeadHunter employer's data to Postgres

Проект для парсинга данных заданных работодателей с сайта для поиска работы hh.ru. 
Приложение собирает данные по компаниям и их открытым вакансиям через API HH и сохраняет их в базу данных Postgres.
Содержит меню пользователя с выбором вариантов вывода информации по вакансиям, з/пл и поиском по ключевому слову.

## Установка и использование

1. Клонируйте репозиторий с помощью команды:
    ```shell
   git clone https://github.com/ialar/course_work_5.git
    ```
2. Перейдите в папку проекта:
    ```shell
        cd course_work_5
    ```
3. Установите необходимые зависимости, выполнив команду (для работы приложения требуется python >= 3.11.1):
    ```shell
        pip install -r requirements.txt
    ```

Для работы с базой данных необходимо создать файл `.env` с параметрами доступа к базе данных PostgresSQL. 
Пример содержимого файла:

```shell
POSTGRES_HOST=localhost
POSTGRES_USER=postgres
POSTGRES_PORT=5432
POSTGRES_PASSWORD=password
```

## Описание файлов

- `main.py` содержит функцию `main`, которая запускает цепочку действий по сбору данных и их записи в базу данных PostgresSQL.


- `DBCreator.py` содержит функцию `run_db_creation`, которая собирает данные и заполняет ими созданную БД.


- `utils.py` содержит функции, реализующие модуль DBCreator, который создает и заполняет данными таблицы БД, а также функцию `run_user_commands`, запускающую меню пользователя.


- `DBManager.py` содержит класс `DBManager`, методы которого отвечают за sql-запросы в БД.


- `config.py` содержит словарь с переменными окружения для подключения к БД.


Для запуска приложения выполните следующую команду:
```shell
    python main.py
```
После запуска приложения вы увидите меню с доступными действиями:

* **Вывести список компаний и количество вакансий у каждой компании**
* **Вывести список всех вакансий компаний**
* **Вывести среднюю зарплату по вакансиям**
* **Вывести список всех вакансий, у которых зарплата выше средней по всем вакансиям**
* **Вывести список всех вакансий по ключевому слову**
* **Выйти** (завершает работу приложения).